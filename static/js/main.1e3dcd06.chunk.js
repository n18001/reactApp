(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){e.exports=a(29)},20:function(e,t,a){},21:function(e,t,a){},29:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(11),u=a.n(o),i=(a(20),a(1)),c=a(2),l=a(4),s=a(3),h=a(5),d=(a(21),a(8)),m=a(6),f=a.n(m),v=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).state={data:null,year:(new Date).getFullYear(),cours:1},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.a.get("http://api.moemoe.tokyo/anime/v1/master/cours").end(function(t,a){if(t)return console.log(t);e.loadedJson(a.body)})}},{key:"loadedJson",value:function(e){if(!e)return console.log("No json data");this.setState({data:e})}},{key:"createYearOp",value:function(){var e=this,t=this.state.data[1].year,a=Object(d.a)(Array((new Date).getFullYear()+1).keys()).slice(t).map(function(t){return r.a.createElement("option",{value:t,key:t,onChange:function(t){return e.handleYearChange(t)}},t)});return r.a.createElement("select",{onChange:function(t){return e.handleYearChange(t)},defaultValue:this.state.year},a)}},{key:"createCoursOp",value:function(){var e=this,t=Object(d.a)(Array(5).keys()).slice(1).map(function(t){return r.a.createElement("option",{value:t,key:t,onChange:function(t){return e.handleCoursChange(t)}},t)});return r.a.createElement("select",{onChange:function(t){return e.handleCoursChange(t)},defaultValue:this.state.cours},t)}},{key:"handleYearChange",value:function(e){this.setState({year:e.target.value})}},{key:"handleCoursChange",value:function(e){this.setState({cours:e.target.value})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.state.year,a=this.state.cours;t&&a&&this.props.onSubmit&&this.props.onSubmit({target:this,value:{year:t,cours:a}})}},{key:"render",value:function(){var e=this;if(!this.state.data)return null;var t=this.createYearOp(),a=this.createCoursOp();return r.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)}},t,a,r.a.createElement("input",{type:"submit"}))}}]),t}(n.Component),p=a(7),b=a.n(p),y=a(12),g=a(13),k=a.n(g),j=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).state={data:null},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;Object(y.a)(b.a.mark(function t(){var a,n,r;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a="http://api.hitonobetsu.com/ogp/analysis?url=".concat(e.props.url),t.next=4,k()(a);case 4:return n=t.sent,t.next=7,n.json();case 7:r=t.sent,e.loadedJson(r),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}},t,null,[[0,11]])}))()}},{key:"loadedJson",value:function(e){e||console.log("No json data"),this.setState({data:e})}},{key:"createBox",value:function(){var e=this.state.data,t=e.image,a=e.description,n=this.props.title,o=t?"":"none-display";return r.a.createElement("a",{href:this.props.url},r.a.createElement("div",{className:"viewer-box-inner"},r.a.createElement("h2",null,n),r.a.createElement("figure",{className:o},r.a.createElement("img",{src:t,alt:"a"})),r.a.createElement("p",null,a)))}},{key:"render",value:function(){return this.state.data?r.a.createElement("div",{className:"viewer-box"},this.createBox()):null}}]),t}(n.Component),O=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).state={data:null},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleSubmit",value:function(e){var t=this,a=e.value.year,n=e.value.cours,r="https://api.moemoe.tokyo/anime/v1/master/".concat(a,"/").concat(n);f.a.get(r).end(function(e,a){if(e)return console.log(e);t.loadedJson(a.body)})}},{key:"loadedJson",value:function(e){if(!e)return console.log("No json data");this.setState({data:e})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"anime-info"},r.a.createElement(v,{onSubmit:function(t){return e.handleSubmit(t)}}),r.a.createElement(E,{data:this.state.data}))}}]),t}(n.Component),E=function(e){if(!e.data)return null;var t=e.data.map(function(e){var t=e.id,a=e.public_url,n=e.title;return r.a.createElement("li",{key:t},r.a.createElement(j,{url:a,id:t,title:n}))});return r.a.createElement("ul",null,t)},C=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(O,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(r.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[14,1,2]]]);
//# sourceMappingURL=main.1e3dcd06.chunk.js.map